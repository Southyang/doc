<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Union Find | Southyangçš„æ–‡æ¡£åº“</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/apple-touch-icon-152x152.png">
    <meta name="description" content="å¼€æ”¾å¼æ–‡æ¡£åº“ï¼Œè®°å½•å­¦ä¹ ç»å†">
    <meta name="theme-color" content="#538ec5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/logo.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.12504bc4.css" as="style"><link rel="preload" href="/assets/js/app.7731fe9a.js" as="script"><link rel="preload" href="/assets/js/2.8135f503.js" as="script"><link rel="preload" href="/assets/js/53.c0a762fd.js" as="script"><link rel="preload" href="/assets/js/3.c554437f.js" as="script"><link rel="prefetch" href="/assets/js/10.091bf6c5.js"><link rel="prefetch" href="/assets/js/11.ecad1f64.js"><link rel="prefetch" href="/assets/js/12.db6baf63.js"><link rel="prefetch" href="/assets/js/13.be7ec884.js"><link rel="prefetch" href="/assets/js/14.01687950.js"><link rel="prefetch" href="/assets/js/15.f6c9075e.js"><link rel="prefetch" href="/assets/js/16.7ffa71eb.js"><link rel="prefetch" href="/assets/js/17.9f78a60c.js"><link rel="prefetch" href="/assets/js/18.40e91bac.js"><link rel="prefetch" href="/assets/js/19.2a0b1ee1.js"><link rel="prefetch" href="/assets/js/20.861fdee3.js"><link rel="prefetch" href="/assets/js/21.d6103d64.js"><link rel="prefetch" href="/assets/js/22.814ca09d.js"><link rel="prefetch" href="/assets/js/23.3ab61d22.js"><link rel="prefetch" href="/assets/js/24.5a503ba0.js"><link rel="prefetch" href="/assets/js/25.c1db428d.js"><link rel="prefetch" href="/assets/js/26.9db5b438.js"><link rel="prefetch" href="/assets/js/27.1a1478c6.js"><link rel="prefetch" href="/assets/js/28.a9a1f262.js"><link rel="prefetch" href="/assets/js/29.591c9d80.js"><link rel="prefetch" href="/assets/js/30.645d8523.js"><link rel="prefetch" href="/assets/js/31.5b064b4b.js"><link rel="prefetch" href="/assets/js/32.072eec03.js"><link rel="prefetch" href="/assets/js/33.d8c822ef.js"><link rel="prefetch" href="/assets/js/34.c843ed4d.js"><link rel="prefetch" href="/assets/js/35.9c53be72.js"><link rel="prefetch" href="/assets/js/36.08e2ece1.js"><link rel="prefetch" href="/assets/js/37.b1d8e317.js"><link rel="prefetch" href="/assets/js/38.785dc670.js"><link rel="prefetch" href="/assets/js/39.fc250894.js"><link rel="prefetch" href="/assets/js/4.b2661820.js"><link rel="prefetch" href="/assets/js/40.f7273ad5.js"><link rel="prefetch" href="/assets/js/41.61e3aef1.js"><link rel="prefetch" href="/assets/js/42.74d64a59.js"><link rel="prefetch" href="/assets/js/43.079e5097.js"><link rel="prefetch" href="/assets/js/44.d84b3513.js"><link rel="prefetch" href="/assets/js/45.c9ed6386.js"><link rel="prefetch" href="/assets/js/46.6704bca2.js"><link rel="prefetch" href="/assets/js/47.763ca35d.js"><link rel="prefetch" href="/assets/js/48.251ecc04.js"><link rel="prefetch" href="/assets/js/49.fd2ec9ed.js"><link rel="prefetch" href="/assets/js/5.40ce5b3c.js"><link rel="prefetch" href="/assets/js/50.479a6afc.js"><link rel="prefetch" href="/assets/js/51.beb8cda7.js"><link rel="prefetch" href="/assets/js/52.49791baa.js"><link rel="prefetch" href="/assets/js/54.a1ba298d.js"><link rel="prefetch" href="/assets/js/55.7776c08a.js"><link rel="prefetch" href="/assets/js/56.0d70bcd5.js"><link rel="prefetch" href="/assets/js/57.0e37289d.js"><link rel="prefetch" href="/assets/js/58.ece82136.js"><link rel="prefetch" href="/assets/js/59.fe7c6bc0.js"><link rel="prefetch" href="/assets/js/6.4051b925.js"><link rel="prefetch" href="/assets/js/60.90aeb701.js"><link rel="prefetch" href="/assets/js/61.0d7d6d17.js"><link rel="prefetch" href="/assets/js/62.4df6af4d.js"><link rel="prefetch" href="/assets/js/63.ba0cc296.js"><link rel="prefetch" href="/assets/js/64.f9726669.js"><link rel="prefetch" href="/assets/js/65.b66e5d62.js"><link rel="prefetch" href="/assets/js/66.e4c3114d.js"><link rel="prefetch" href="/assets/js/67.5f010b53.js"><link rel="prefetch" href="/assets/js/68.5ccacaeb.js"><link rel="prefetch" href="/assets/js/69.a9dd87cf.js"><link rel="prefetch" href="/assets/js/7.28bcc1a9.js"><link rel="prefetch" href="/assets/js/70.dac22cbb.js"><link rel="prefetch" href="/assets/js/8.ff873bdc.js"><link rel="prefetch" href="/assets/js/9.dc830684.js">
    <link rel="stylesheet" href="/assets/css/0.styles.12504bc4.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://store.southyang.cn/project/doc/logo.png" alt="Southyangçš„æ–‡æ¡£åº“" class="logo"> <span class="site-name can-hide">Southyangçš„æ–‡æ¡£åº“</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µæŒ‡å—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="learningdoc" class="dropdown-title"><!----> <span class="title" style="display:;">å­¦ä¹ æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningdoc/CSAPP/" class="nav-link">CSAPP</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/TS/" class="nav-link">TS</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/Vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/Algorithm/" class="nav-link">Algorithm</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/Go/" class="nav-link">Go</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="developmentdoc" class="dropdown-title"><!----> <span class="title" style="display:;">å¼€å‘æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å·¥ç¨‹æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developmentdoc/projectdoc/Configuration &amp; Directives/" class="nav-link">Configuration &amp; Directives</a></li><li class="dropdown-subitem"><a href="/developmentdoc/projectdoc/Debug/" class="nav-link">Debug</a></li></ul></li><li class="dropdown-item"><h4>ç§‘ç ”æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developmentdoc/scientificdoc/Robot/" class="nav-link">Robot</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="coursedoc" class="dropdown-title"><!----> <span class="title" style="display:;">è¯¾ç¨‹æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coursedoc/æ¯›æ¦‚/" class="nav-link">æ¯›æ¦‚</a></li><li class="dropdown-item"><!----> <a href="/coursedoc/å¤šåª’ä½“/" class="nav-link">å¤šåª’ä½“</a></li></ul></div></div><div class="nav-item"><a href="https://southyang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Southyang/Southyang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://me.southyang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ä¸ªäººä¸»é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µæŒ‡å—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="learningdoc" class="dropdown-title"><!----> <span class="title" style="display:;">å­¦ä¹ æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learningdoc/CSAPP/" class="nav-link">CSAPP</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/TS/" class="nav-link">TS</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/Vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/Algorithm/" class="nav-link">Algorithm</a></li><li class="dropdown-item"><!----> <a href="/learningdoc/Go/" class="nav-link">Go</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="developmentdoc" class="dropdown-title"><!----> <span class="title" style="display:;">å¼€å‘æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å·¥ç¨‹æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developmentdoc/projectdoc/Configuration &amp; Directives/" class="nav-link">Configuration &amp; Directives</a></li><li class="dropdown-subitem"><a href="/developmentdoc/projectdoc/Debug/" class="nav-link">Debug</a></li></ul></li><li class="dropdown-item"><h4>ç§‘ç ”æ–‡æ¡£</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/developmentdoc/scientificdoc/Robot/" class="nav-link">Robot</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="coursedoc" class="dropdown-title"><!----> <span class="title" style="display:;">è¯¾ç¨‹æ–‡æ¡£</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/coursedoc/æ¯›æ¦‚/" class="nav-link">æ¯›æ¦‚</a></li><li class="dropdown-item"><!----> <a href="/coursedoc/å¤šåª’ä½“/" class="nav-link">å¤šåª’ä½“</a></li></ul></div></div><div class="nav-item"><a href="https://southyang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æˆ‘çš„åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Southyang/Southyang" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://me.southyang.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ä¸ªäººä¸»é¡µ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/pages/f87d4f/" class="sidebar-link">README</a></li><li><a href="/pages/7c8eba/" class="sidebar-link">STLæ€»ç»“</a></li><li><a href="/pages/6c91e8/" class="sidebar-link">ç®—æ³•æ¨¡æ¿æ€»ç»“</a></li><li><a href="/pages/1921c2/" class="sidebar-link">Array</a></li><li><a href="/pages/2e8fcb/" class="sidebar-link">Backtracking</a></li><li><a href="/pages/16eaa8/" class="sidebar-link">Two Pointers</a></li><li><a href="/pages/af873c/" class="sidebar-link">Sorting</a></li><li><a href="/pages/ef18b3/" class="sidebar-link">Binary Search</a></li><li><a href="/pages/2e730d/" class="sidebar-link">Bit Manipulation</a></li><li><a href="/pages/a37b4b/" aria-current="page" class="active sidebar-link">Union Find</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/a37b4b/#é¢˜è§£æ¥æº" class="sidebar-link">é¢˜è§£æ¥æº</a></li><li class="sidebar-sub-header level2"><a href="/pages/a37b4b/#è‡ªå·±å†™ä¸ªæ¨¡æ¿" class="sidebar-link">è‡ªå·±å†™ä¸ªæ¨¡æ¿</a></li><li class="sidebar-sub-header level2"><a href="/pages/a37b4b/#é¢˜ç›®" class="sidebar-link">é¢˜ç›®</a></li></ul></li><li><a href="/pages/298fd1/" class="sidebar-link">Sliding Window</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><span data-v-0c557b5e>learningdoc</span></li><li data-v-0c557b5e><span data-v-0c557b5e>Algorithm</span></li></ul> <div class="info" data-v-0c557b5e><!----> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-05-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Union Find<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="header-anchor">#</a> å¹¶æŸ¥é›†</h1> <h2 id="é¢˜è§£æ¥æº"><a href="#é¢˜è§£æ¥æº" class="header-anchor">#</a> é¢˜è§£æ¥æº</h2> <p><strong>æ ‡äº†ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸çš„æ˜¯å®Œå…¨æŒ‰ç…§å¤§ä½¬ä»¬çš„é¢˜è§£å†™çš„</strong></p> <p><strong>æ ‡äº†ğŸŒŸçš„æ˜¯ç†è§£äº†å¤§ç¥ä»¬çš„é¢˜è§£åï¼Œè‡ªå·±åˆå†™çš„</strong></p> <p><strong>æ²¡æ ‡çš„æ˜¯è‡ªå·±ç£•ç£•ç»Šç»Šå†™å‡ºæ¥çš„ä½æ°´å¹³ä»£ç </strong></p> <h2 id="è‡ªå·±å†™ä¸ªæ¨¡æ¿"><a href="#è‡ªå·±å†™ä¸ªæ¨¡æ¿" class="header-anchor">#</a> è‡ªå·±å†™ä¸ªæ¨¡æ¿</h2> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// parentæ˜¯æ¯ä¸ªç‚¹çš„ç¥–å®—ç»“ç‚¹</span>
<span class="token comment">// sizeåªå¯¹ç¥–å®—ç»“ç‚¹æœ‰æ„ä¹‰ï¼Œä¿å­˜è¯¥åŒºé—´å†…ç‚¹çš„æ•°é‡</span>
vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">,</span> size<span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
    parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    size<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// è·¯å¾„å‹ç¼©ï¼Œè§†æƒ…å†µæ·»åŠ </span>
        parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¯ä»¥æ‰‹åŠ¨æŒ‡å®šç‰¹å®šåŒºé—´çš„ç¥–å®—ç»“ç‚¹ï¼Œè§130é¢˜</span>
    <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span> 
    size<span class="token punctuation">[</span>pa<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>pb<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>æ ¸å¿ƒæ€æƒ³
å¹¶æŸ¥é›†çš„å®ç°æ–¹å¼ä¸­å¯ä»¥æ”¹å˜çš„å‡ ä¸ªåœ°æ–¹
è·¯å¾„å‹ç¼©ã€ç»Ÿè®¡æ¯ä¸ªé›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°ã€è®°å½•æœ€å¤§é›†åˆå…ƒç´ ä¸ªæ•°

è¦çµæ´»ä½¿ç”¨mapã€setç­‰æ•°æ®ç»“æ„æ¥é™ä½æ—¶é—´å¤æ‚åº¦
å…³äºåœ°å›¾ï¼Œç –å—ï¼Œç½‘æ ¼çš„é¢˜ç›®ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªç‰¹æ®ŠèŠ‚ç‚¹ï¼Œå°†å››å‘¨è¾¹ç¼˜çš„ç –å—æˆ–è€…ç½‘æ ¼éƒ½ union() åˆ°è¿™ä¸ªç‰¹æ®ŠèŠ‚ç‚¹ä¸Šã€‚


PSï¼š
å¹¶æŸ¥é›†æ˜¯ç›®å‰ç»ƒè¿‡æœ€éš¾çš„é¢˜ç›®äº†
å¹¶æŸ¥é›†çš„éš¾åº¦ä¸åœ¨æ„é€ å¹¶æŸ¥é›†ï¼›è€Œåœ¨æ€è·¯ï¼Œæˆ‘ä»¬è¦æƒ³å‡ºæ¥ï¼Œç”¨ä»€ä¹ˆæ„é€ å¹¶æŸ¥é›†ï¼Œæ„é€ ä¹‹åè¦å¦‚ä½•ä½¿ç”¨
å¯èƒ½è¿˜æ˜¯ç»ƒå¾—å°‘ï¼Œåšè¿™ç§é¢˜æ²¡ä»€ä¹ˆæ€è·¯ï¼Œä½†çœ‹ä¸€çœ¼é¢˜è§£æ€è·¯å°±ç«‹é©¬ä¼šåšäº†
åªèƒ½è¯´æ„é€ éš¾åº¦å’Œé€»è¾‘éš¾åº¦éƒ½ä½ï¼Œä½†è§£é¢˜æ€è·¯æ˜¯éœ€è¦å¤§é‡ç»ƒä¹ ï¼ˆæˆ–è€…æ˜¯å¤©èµ‹å¼‚ç¦€ï¼‰æ‰èƒ½æœ‰
10é“å¹¶æŸ¥é›†çš„ç»ƒä¹ é¢˜ï¼Œåªæœ‰ä¸¤é“æ˜¯çº¯è‡ªå·±å†™çš„
æ…¢æ…¢è®­ç»ƒè§£é¢˜æ€ç»´ï¼
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="header-anchor">#</a> é¢˜ç›®</h2> <h3 id="_128-æœ€é•¿è¿ç»­åºåˆ—"><a href="#_128-æœ€é•¿è¿ç»­åºåˆ—" class="header-anchor">#</a> 128. æœ€é•¿è¿ç»­åºåˆ— <span id="128"></span></h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ffa119">ä¸­ç­‰</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦</p> <p>è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šnums = [100,4,200,1,3,2]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šnums = [0,3,7,2,5,8,4,6,0,1]
è¾“å‡ºï¼š9
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>0 &lt;= nums.length &lt;= 105</code></li> <li><code>-109 &lt;= nums[i] &lt;= 109</code></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>å› ä¸ºè¦æ‰¾å‡ºæœ€é•¿çš„å­åŒºé—´ï¼Œæ‰€ä»¥æˆ‘ä»¬é™¤äº†è¦ç»´æŠ¤ä¸€ä¸ª<code>parent</code>æ•°ç»„ï¼Œè¿˜è¦ç»´æŠ¤ä¸€ä¸ª<code>size</code>æ•°ç»„ç”¨æ¥å­˜æ”¾æ¯ä¸ªå­åŒºé—´çš„å¤§å°</li> <li>é¦–å…ˆåˆå§‹åŒ–å¹¶æŸ¥é›†ï¼Œæ¯ä¸ªå…ƒç´ çš„ç¥–å®—ç»“ç‚¹éƒ½æ˜¯è‡ªèº«</li> <li>éå†<code>nums</code>ï¼Œç”¨<code>map</code>å­˜å‚¨æ¯ä¸€ä¸ªå…ƒç´ <code>num</code> <ul><li>å…ˆåœ¨<code>map</code>ä¸­å¯»æ‰¾æœ‰æ²¡æœ‰<code>num+1</code>å’Œ<code>num-1</code>ï¼Œå› ä¸º<code>num</code>å¯ä»¥å’Œè¿™ä¸¤ä¸ªæ•°æ®åˆå¹¶æˆä¸€ä¸ªå­åŒºé—´</li> <li>å¦‚æœæœ‰ï¼Œå°±åˆå¹¶ä¸¤ä¸ªå…ƒç´ æ‰€åœ¨çš„åŒºé—´</li> <li>å¦‚æœæ²¡æœ‰ï¼Œå°±ç»§ç»­éå†ç›´è‡³ç»“æŸ</li></ul></li> <li>æœ€åä»<code>size</code>æ•°ç»„ä¸­æ‰¾åˆ°æœ€å¤§çš„å­åŒºé—´é•¿åº¦è¿”å›å³å¯</li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">,</span> size<span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ‰¾åˆ°ç¥–å®—ç»“ç‚¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åšè·¯å¾„å‹ç¼©</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå¹¶ä¸¤ä¸ªåŒºé—´ï¼Œå°†bå¹¶åˆ°aä¸Š</span>
        parent<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">+</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">getMaxSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// è·å¾—æœ€é•¿å­åŒºé—´</span>
        <span class="token keyword">int</span> maxSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            maxSize <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxSize<span class="token punctuation">,</span> size<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> maxSize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">longestConsecutive</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> mapnums<span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå¹¶</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>mapnums<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> mapnums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>mapnums<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">!=</span> mapnums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> mapnums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>mapnums<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">!=</span> mapnums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> mapnums<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            mapnums<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">return</span> <span class="token function">getMaxSize</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div><h3 id="_130-è¢«å›´ç»•çš„åŒºåŸŸ-ğŸŒŸ"><a href="#_130-è¢«å›´ç»•çš„åŒºåŸŸ-ğŸŒŸ" class="header-anchor">#</a> 130. è¢«å›´ç»•çš„åŒºåŸŸ <span id="130"></span> ğŸŒŸ</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ffa119">ä¸­ç­‰</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>ç»™ä½ ä¸€ä¸ª <code>m x n</code> çš„çŸ©é˜µ <code>board</code> ï¼Œç”±è‹¥å¹²å­—ç¬¦ <code>'X'</code> å’Œ <code>'O'</code> ï¼Œæ‰¾åˆ°æ‰€æœ‰è¢« <code>'X'</code> å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ <code>'O'</code> ç”¨ <code>'X'</code> å¡«å……ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <p><img src="https://store.southyang.cn/LeetCode/UnionFind/xogrid.jpg" alt="è¢«å›´ç»•çš„åŒºåŸŸ å›¾æºLeetCode"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šboard = [[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;O&quot;,&quot;O&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;X&quot;,&quot;O&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;O&quot;,&quot;X&quot;,&quot;X&quot;]]
è¾“å‡ºï¼š[[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;X&quot;,&quot;X&quot;,&quot;X&quot;],[&quot;X&quot;,&quot;O&quot;,&quot;X&quot;,&quot;X&quot;]]
è§£é‡Šï¼šè¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„Â 'O'Â éƒ½ä¸ä¼šè¢«å¡«å……ä¸ºÂ 'X'ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„Â 'O'Â ç›¸è¿çš„Â 'O'Â æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸ºÂ 'X'ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šboard = [[&quot;X&quot;]]
è¾“å‡ºï¼š[[&quot;X&quot;]]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>m == board.length</code></li> <li><code>n == board[i].length</code></li> <li><code>1 &lt;= m, n &lt;= 200</code></li> <li><code>board[i][j]</code> ä¸º <code>'X'</code> æˆ– <code>'O'</code></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li><code>O</code>æœ‰ä¸¤ç§å­˜åœ¨çŠ¶æ€
<ul><li>çŠ¶æ€ä¸€ï¼šè¢«Xå›´ç»•</li> <li>çŠ¶æ€äºŒï¼šä¸è¾¹ç•Œç›¸è¿ï¼Œä¸è¢«Xå›´ç»•</li></ul></li> <li>é‚£ä¹ˆæˆ‘ä»¬é€šè¿‡å¹¶æŸ¥é›†å°†è¿™ä¸¤ç§çŠ¶æ€çš„<code>O</code>åŒºåˆ†å‡ºæ¥</li> <li>å®šä¹‰ä¸€ä¸ªå…¬å…±çš„ç¥–å®—ç»“ç‚¹<code>flag</code>ï¼Œå°†æ‰€æœ‰çš„è¾¹ç•Œ<code>O</code>å…¨éƒ¨åˆå¹¶åˆ°<code>flag</code>ä¸Š</li> <li>å½“æˆ‘ä»¬åœ¨çŸ©é˜µå†…éƒ¨è¿›è¡Œéå†æ—¶ï¼Œé‡åˆ°ä¸¤ä¸ªç›¸è¿çš„<code>O</code>ï¼Œåˆå¹¶ä¸”åˆ¤æ–­æ˜¯å¦æœ‰ç¥–å®—ç»“ç‚¹ä¸º<code>flag</code>çš„ç‚¹ï¼Œå¦‚æœæœ‰ï¼Œåˆ™å¦ä¸€ä¸ª<code>O</code>ç‚¹ä¹Ÿåˆå¹¶åˆ°<code>flag</code>ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥ä¿è¯æ‰€æœ‰ä¸è¾¹ç•Œç›¸è¿çš„<code>O</code>ç‚¹çš„ç¥–å®—ç»“ç‚¹å‡ä¸º<code>flag</code></li> <li>æœ€ç»ˆéå†çŸ©é˜µï¼Œå¦‚æœ<code>O</code>ç‚¹çš„ç¥–å®—ç»“ç‚¹ä¸º<code>flag</code>ï¼Œå°†å…¶æ”¹ä¸º<code>X</code></li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">;</span>
    <span class="token keyword">int</span> flag<span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ‰‹åŠ¨ç»´æŒç¥–å®—ç»“ç‚¹ä¸ºflag</span>
            parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>pa<span class="token punctuation">]</span> <span class="token operator">=</span> pb<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> board<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> m <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        flag <span class="token operator">=</span> m <span class="token operator">*</span> n<span class="token punctuation">;</span>

        <span class="token function">initUnion</span><span class="token punctuation">(</span>m <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'X'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">continue</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> i <span class="token operator">==</span> m <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">||</span> j <span class="token operator">==</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>m <span class="token operator">*</span> n<span class="token punctuation">,</span> i <span class="token operator">*</span> n <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> board<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'O'</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åªéœ€è¦åˆ¤æ–­ä¸Šè¾¹å’Œå·¦è¾¹çš„åŸå› ï¼šè¿™ä¸¤ä¸ªæ–¹å‘çš„å…ƒç´ å·²ç»è¢«åˆ¤æ–­è¿‡äº†</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> n <span class="token operator">+</span> j<span class="token punctuation">,</span> i <span class="token operator">*</span> n <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'O'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>i <span class="token operator">*</span> n <span class="token operator">+</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> i <span class="token operator">*</span> n <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ‰¾åˆ°ç¥–å®—ç»“ç‚¹ä¸ä¸ºflagçš„ O ï¼Œ å°†å…¶ä¿®æ”¹ä¸º X</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'O'</span>  <span class="token operator">&amp;&amp;</span> <span class="token function">find</span><span class="token punctuation">(</span>i <span class="token operator">*</span> n <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">!=</span> flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'X'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><h3 id="_721-è´¦æˆ·åˆå¹¶-ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸"><a href="#_721-è´¦æˆ·åˆå¹¶-ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸" class="header-anchor">#</a> 721. è´¦æˆ·åˆå¹¶ <span id="721"></span> ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™‚ï¸</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ffa119">ä¸­ç­‰</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>ç»™å®šä¸€ä¸ªåˆ—è¡¨ <code>accounts</code>ï¼Œæ¯ä¸ªå…ƒç´  <code>accounts[i]</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´  <code>accounts[i][0]</code> æ˜¯ <em>åç§° (name)</em>ï¼Œå…¶ä½™å…ƒç´ æ˜¯ <em><strong>emails</strong></em> è¡¨ç¤ºè¯¥è´¦æˆ·çš„é‚®ç®±åœ°å€ã€‚</p> <p>ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³åˆå¹¶è¿™äº›è´¦æˆ·ã€‚å¦‚æœä¸¤ä¸ªè´¦æˆ·éƒ½æœ‰ä¸€äº›å…±åŒçš„é‚®ç®±åœ°å€ï¼Œåˆ™ä¸¤ä¸ªè´¦æˆ·å¿…å®šå±äºåŒä¸€ä¸ªäººã€‚è¯·æ³¨æ„ï¼Œå³ä½¿ä¸¤ä¸ªè´¦æˆ·å…·æœ‰ç›¸åŒçš„åç§°ï¼Œå®ƒä»¬ä¹Ÿå¯èƒ½å±äºä¸åŒçš„äººï¼Œå› ä¸ºäººä»¬å¯èƒ½å…·æœ‰ç›¸åŒçš„åç§°ã€‚ä¸€ä¸ªäººæœ€åˆå¯ä»¥æ‹¥æœ‰ä»»æ„æ•°é‡çš„è´¦æˆ·ï¼Œä½†å…¶æ‰€æœ‰è´¦æˆ·éƒ½å…·æœ‰ç›¸åŒçš„åç§°ã€‚</p> <p>åˆå¹¶è´¦æˆ·åï¼ŒæŒ‰ä»¥ä¸‹æ ¼å¼è¿”å›è´¦æˆ·ï¼šæ¯ä¸ªè´¦æˆ·çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åç§°ï¼Œå…¶ä½™å…ƒç´ æ˜¯ <strong>æŒ‰å­—ç¬¦ ASCII é¡ºåºæ’åˆ—</strong> çš„é‚®ç®±åœ°å€ã€‚è´¦æˆ·æœ¬èº«å¯ä»¥ä»¥ <strong>ä»»æ„é¡ºåº</strong> è¿”å›ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šaccounts = [[&quot;John&quot;, &quot;johnsmith@mail.com&quot;, &quot;john00@mail.com&quot;], [&quot;John&quot;, &quot;johnnybravo@mail.com&quot;], [&quot;John&quot;, &quot;johnsmith@mail.com&quot;, &quot;john_newyork@mail.com&quot;], [&quot;Mary&quot;, &quot;mary@mail.com&quot;]]

è¾“å‡ºï¼š[[&quot;John&quot;, 'john00@mail.com', 'john_newyork@mail.com', 'johnsmith@mail.com'],  [&quot;John&quot;, &quot;johnnybravo@mail.com&quot;], [&quot;Mary&quot;, &quot;mary@mail.com&quot;]]

è§£é‡Šï¼š
ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ª John æ˜¯åŒä¸€ä¸ªäººï¼Œå› ä¸ºä»–ä»¬æœ‰å…±åŒçš„é‚®ç®±åœ°å€ &quot;johnsmith@mail.com&quot;ã€‚ 
ç¬¬äºŒä¸ª John å’Œ Mary æ˜¯ä¸åŒçš„äººï¼Œå› ä¸ºä»–ä»¬çš„é‚®ç®±åœ°å€æ²¡æœ‰è¢«å…¶ä»–å¸æˆ·ä½¿ç”¨ã€‚
å¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›è¿™äº›åˆ—è¡¨ï¼Œä¾‹å¦‚ç­”æ¡ˆ [['Mary'ï¼Œ'mary@mail.com']ï¼Œ['John'ï¼Œ'johnnybravo@mail.com']ï¼Œ
['John'ï¼Œ'john00@mail.com'ï¼Œ'john_newyork@mail.com'ï¼Œ'johnsmith@mail.com']] ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šaccounts = [[&quot;Gabe&quot;,&quot;Gabe0@m.co&quot;,&quot;Gabe3@m.co&quot;,&quot;Gabe1@m.co&quot;],[&quot;Kevin&quot;,&quot;Kevin3@m.co&quot;,&quot;Kevin5@m.co&quot;,&quot;Kevin0@m.co&quot;],[&quot;Ethan&quot;,&quot;Ethan5@m.co&quot;,&quot;Ethan4@m.co&quot;,&quot;Ethan0@m.co&quot;],[&quot;Hanzo&quot;,&quot;Hanzo3@m.co&quot;,&quot;Hanzo1@m.co&quot;,&quot;Hanzo0@m.co&quot;],[&quot;Fern&quot;,&quot;Fern5@m.co&quot;,&quot;Fern1@m.co&quot;,&quot;Fern0@m.co&quot;]]

è¾“å‡ºï¼š[[&quot;Ethan&quot;,&quot;Ethan0@m.co&quot;,&quot;Ethan4@m.co&quot;,&quot;Ethan5@m.co&quot;],[&quot;Gabe&quot;,&quot;Gabe0@m.co&quot;,&quot;Gabe1@m.co&quot;,&quot;Gabe3@m.co&quot;],[&quot;Hanzo&quot;,&quot;Hanzo0@m.co&quot;,&quot;Hanzo1@m.co&quot;,&quot;Hanzo3@m.co&quot;],[&quot;Kevin&quot;,&quot;Kevin0@m.co&quot;,&quot;Kevin3@m.co&quot;,&quot;Kevin5@m.co&quot;],[&quot;Fern&quot;,&quot;Fern0@m.co&quot;,&quot;Fern1@m.co&quot;,&quot;Fern5@m.co&quot;]]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>1 &lt;= accounts.length &lt;= 1000</code></li> <li><code>2 &lt;= accounts[i].length &lt;= 10</code></li> <li><code>1 &lt;= accounts[i][j].length &lt;= 30</code></li> <li><code>accounts[i][0]</code> ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li> <li><code>accounts[i][j] (for j &gt; 0)</code> æ˜¯æœ‰æ•ˆçš„é‚®ç®±åœ°å€</li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>è¿™é“é¢˜çš„é€»è¾‘éƒ¨åˆ†æ˜¯å®Œå…¨çœ‹<a href="https://leetcode.cn/problems/accounts-merge/solution/zhang-hu-he-bing-by-leetcode-solution-3dyq/" target="_blank" rel="noopener noreferrer">å®˜æ–¹é¢˜è§£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>çš„ï¼Œä¸»è¦æ˜¯è‡ªå·±å¼€å§‹æ²¡æœ‰ä½¿ç”¨å¼•ç”¨ï¼Œä¸€ç›´è¶…æ—¶ï¼Œçœ‹äº†å®˜æ–¹é¢˜è§£ï¼ŒæŠŠæ‰€æœ‰çš„å®šä¹‰å˜é‡éƒ½å˜æˆäº†å¼•ç”¨ï¼Œæ‰å‹‰å¼ºé€šè¿‡</li> <li>å…¶å®æ•´ä½“é€»è¾‘æ˜¯ä¸éš¾çš„
<ul><li>é¦–å…ˆæˆ‘ä»¬ç»´æŠ¤ä¸¤ä¸ª<code>map</code>ç”¨æ¥å­˜æ”¾<code>email</code>å’Œ<code>name</code>ã€<code>index</code>çš„å¯¹åº”å…³ç³»ï¼›ç”¨<code>emailsCount</code>æ¥è®°å½•æ€»çš„emailæ•°é‡</li> <li>å› ä¸ºåœ¨ä¸¤ä¸ª<code>map</code>ä¸­æˆ‘ä»¬éƒ½æ˜¯ç”¨<code>email</code>ä½œä¸ºé”®å€¼ï¼Œè€Œé”®å€¼ä¸èƒ½é‡å¤ï¼Œå› æ­¤åœ¨ç»´æŠ¤çš„å¹¶æŸ¥é›†é‡Œï¼Œä¹Ÿè¦ç”¨æ— é‡å¤çš„<code>email</code>æ•°é‡æ¥åˆå§‹åŒ–ï¼Œå³<code>emailsCount</code></li> <li>åˆå§‹åŒ–å¹¶æŸ¥é›†ä¹‹åï¼Œå¯¹<code>accounts</code>è¿›è¡Œéå†ï¼Œå¯¹äº<code>accounts</code>ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ <code>account</code>ï¼Œæˆ‘ä»¬è¦å°†å…¶ä¸­çš„æ‰€æœ‰<code>email</code>éƒ½æ”¾å…¥åŒä¸€ä¸ªå­åŒºé—´ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†åˆå¹¶åçš„å¹¶æŸ¥é›†ï¼ŒåŒä¸€ä¸ªäººçš„æ‰€æœ‰è´¦æˆ·éƒ½è¢«æ”¾å…¥äº†åŒä¸€ä¸ªå­åŒºé—´</li> <li>ä¹‹åæˆ‘ä»¬å†ç»´æŠ¤ä¸€ä¸ª<code>map</code>æ¥å­˜æ”¾<code>index</code>å’Œ<code>emails</code>çš„å¯¹åº”å…³ç³»ï¼Œæ¯ä¸ª<code>email</code>éƒ½æœ‰å”¯ä¸€çš„ç¥–å®—ç»“ç‚¹ï¼Œå…¶ç´¢å¼•å°±æ˜¯<code>index</code> <ul><li>é€šè¿‡ä»<code>emailToIndex</code>ä¸­ä¸æ–­å–å‡º<code>email</code>ï¼Œæ‰¾åˆ°è¯¥<code>email</code>çš„ç¥–å®—ç»“ç‚¹ç´¢å¼•<code>index</code>åï¼ŒåŠ åˆ°<code>indexToEmails[index]</code>ä¸­</li></ul></li> <li>ä»è€Œæˆ‘ä»¬å¾—åˆ°äº†<code>index</code>å’Œ<code>index</code>å¯¹åº”çš„æ‰€æœ‰<code>emails</code>ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªäººçš„æ‰€æœ‰è´¦æˆ·éƒ½å·²ç»æ”¾åˆ°äº†ä¸€èµ·</li> <li>é¢˜ç›®è¦æ±‚æŒ‰ç…§<code>ASCII</code>é¡ºåºè¿”å›ï¼Œåšä¸€ä¸ª<code>sort</code>å³å¯</li> <li>éšä¾¿æ‹¿åˆ°ä¸€ä¸ª<code>email</code>ï¼Œä»<code>emailToName</code>ä¸­å¾—åˆ°<code>name</code>ï¼Œå†å’Œ<code>emails</code>ä¸€èµ·ä½œä¸º<code>vector&lt;string&gt;</code>ç±»å‹çš„æ•°æ®å‹å…¥æœ€ç»ˆçš„<code>res</code></li> <li>è¿”å›<code>res</code></li></ul></li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">;</span>   

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ‰¾åˆ°ç¥–å®—ç»“ç‚¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åšè·¯å¾„å‹ç¼©</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå¹¶ä¸¤ä¸ªåŒºé—´ï¼Œå°†aå¹¶åˆ°bä¸Š</span>
        parent<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span> <span class="token function">accountsMerge</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// é¦–å…ˆç”¨ä¸¤ä¸ªmapæ¥å­˜å‚¨ emailToName å’Œ emailToIndex</span>
        <span class="token comment">// åˆ†åˆ«ä¸ºemailå¯¹åº”çš„nameå’Œemailå¯¹åº”çš„ç¼–å·</span>
        map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> emailToIndex<span class="token punctuation">;</span>
        map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span> emailToName<span class="token punctuation">;</span>
        <span class="token comment">// ç”¨emailCountæ¥å­˜å‚¨emailçš„ç¼–å·</span>
        <span class="token keyword">int</span> emailsCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token comment">// ç”ŸæˆemailToNameå’ŒemailToIndex</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> account <span class="token operator">:</span> accounts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            string<span class="token operator">&amp;</span> name <span class="token operator">=</span> account<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> length <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                string<span class="token operator">&amp;</span> email <span class="token operator">=</span> account<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>emailToName<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    emailToIndex<span class="token punctuation">[</span>email<span class="token punctuation">]</span> <span class="token operator">=</span> emailsCount<span class="token operator">++</span><span class="token punctuation">;</span>
                    emailToName<span class="token punctuation">[</span>email<span class="token punctuation">]</span> <span class="token operator">=</span> name<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span>emailsCount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åˆå¹¶å¹¶æŸ¥é›†</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> account<span class="token operator">:</span> accounts<span class="token punctuation">)</span><span class="token punctuation">{</span>
            string<span class="token operator">&amp;</span> preEmail <span class="token operator">=</span> account<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> preIndex <span class="token operator">=</span> emailToIndex<span class="token punctuation">[</span>preEmail<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> length <span class="token operator">=</span> account<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                string<span class="token operator">&amp;</span> nextEmail <span class="token operator">=</span> account<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">int</span> nextIndex <span class="token operator">=</span> emailToIndex<span class="token punctuation">[</span>nextEmail<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token function">merge</span><span class="token punctuation">(</span>preIndex<span class="token punctuation">,</span> nextIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// æ„å»ºindexToEmailsï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡indexæ¥è·å–æ‰€æœ‰çš„email</span>
        map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span> indexToEmails<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> iter <span class="token operator">:</span> emailToIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>
            vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token operator">&amp;</span> account <span class="token operator">=</span> indexToEmails<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
            account<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
            indexToEmails<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> account<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// æ„å»ºè¿”å›æ•°ç»„</span>
        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;&gt;</span> res<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> iter <span class="token operator">:</span> indexToEmails<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">sort</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span>second<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> iter<span class="token punctuation">.</span>second<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            string<span class="token operator">&amp;</span> name <span class="token operator">=</span> emailToName<span class="token punctuation">[</span>iter<span class="token punctuation">.</span>second<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> account<span class="token punctuation">;</span>
            account<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> email <span class="token operator">:</span> iter<span class="token punctuation">.</span>second<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                account<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            res<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><h3 id="_765-æƒ…ä¾£ç‰µæ‰‹"><a href="#_765-æƒ…ä¾£ç‰µæ‰‹" class="header-anchor">#</a> 765. æƒ…ä¾£ç‰µæ‰‹ <span id="765"></span></h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ef4743">å›°éš¾</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p><code>n</code> å¯¹æƒ…ä¾£ååœ¨è¿ç»­æ’åˆ—çš„ <code>2n</code> ä¸ªåº§ä½ä¸Šï¼Œæƒ³è¦ç‰µåˆ°å¯¹æ–¹çš„æ‰‹ã€‚</p> <p>äººå’Œåº§ä½ç”±ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>row</code> è¡¨ç¤ºï¼Œå…¶ä¸­ <code>row[i]</code> æ˜¯ååœ¨ç¬¬ <code>i</code>ä¸ªåº§ä½ä¸Šçš„äººçš„ <strong>ID</strong>ã€‚æƒ…ä¾£ä»¬æŒ‰é¡ºåºç¼–å·ï¼Œç¬¬ä¸€å¯¹æ˜¯ <code>(0, 1)</code>ï¼Œç¬¬äºŒå¯¹æ˜¯ <code>(2, 3)</code>ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€åä¸€å¯¹æ˜¯ <code>(2n-2, 2n-1)</code>ã€‚</p> <p>è¿”å› <em>æœ€å°‘äº¤æ¢åº§ä½çš„æ¬¡æ•°ï¼Œä»¥ä¾¿æ¯å¯¹æƒ…ä¾£å¯ä»¥å¹¶è‚©ååœ¨ä¸€èµ·</em>ã€‚ <em>æ¯æ¬¡</em>äº¤æ¢å¯é€‰æ‹©ä»»æ„ä¸¤äººï¼Œè®©ä»–ä»¬ç«™èµ·æ¥äº¤æ¢åº§ä½ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥: row = [0,2,1,3]
è¾“å‡º: 1
è§£é‡Š: åªéœ€è¦äº¤æ¢row[1]å’Œrow[2]çš„ä½ç½®å³å¯ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥: row = [3,2,0,1]
è¾“å‡º: 0
è§£é‡Š: æ— éœ€äº¤æ¢åº§ä½ï¼Œæ‰€æœ‰çš„æƒ…ä¾£éƒ½å·²ç»å¯ä»¥æ‰‹ç‰µæ‰‹äº†ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>2n == row.length</code></li> <li><code>2 &lt;= n &lt;= 30</code></li> <li><code>n</code> æ˜¯å¶æ•°</li> <li><code>0 &lt;= row[i] &lt; 2n</code></li> <li><code>row</code> ä¸­æ‰€æœ‰å…ƒç´ å‡<strong>æ— é‡å¤</strong></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>å½“æˆ‘ä»¬æƒ³è¦è®©ä¸€å¯¹æƒ…ä¾£ååœ¨ä¸€èµ·çš„æ—¶å€™ï¼Œä¸€å…±ä¼šå½±å“å››ä¸ªäººçš„ä½ç½®å…³ç³»</li> <li>ä¾‹å¦‚ï¼Œabååœ¨ä¸€èµ·ï¼Œcdååœ¨ä¸€èµ·ï¼Œå½“æˆ‘ä»¬æƒ³è¦è®©acååœ¨ä¸€èµ·æ—¶ï¼Œè°ƒæ•´çš„ç»“æœå°±æ˜¯acå’Œbd</li> <li>é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°4ä¸ªäººæœ€å¤šäº¤æ¢ä¸€æ¬¡å°±å¯ä»¥æ»¡è¶³æ¡ä»¶ï¼›6ä¸ªäººæœ€å¤šäº¤æ¢2æ¬¡å°±å¯ä»¥æ»¡è¶³æ¡ä»¶ï¼Œä»¥æ­¤ç±»æ¨</li> <li>ç»“åˆå¹¶æŸ¥é›†ï¼Œåˆå§‹æƒ…å†µä¸­ï¼Œä¸€ä¸ªå­åŒºé—´æœ‰ä¸¤ä¸ªäººï¼Œå‡è®¾å…±ä¸¤ä¸ªå­åŒºé—´ï¼Œæƒ³è¦æ»¡è¶³æ¡ä»¶ï¼Œè‡³å¤šéœ€è¦äº¤æ¢ä¸€æ¬¡åº§ä½ï¼Œå³åˆå¹¶ä¸€æ¬¡å­åŒºé—´ï¼›ä¸‰ä¸ªå­åŒºé—´è‡³å¤šåˆå¹¶ä¸¤æ¬¡ï¼›ä»¥æ­¤ç±»æ¨</li> <li>æ•´ä½“é€»è¾‘
<ul><li>é¦–å…ˆåˆå§‹åŒ–å¹¶æŸ¥é›†</li> <li>åšç¬¬ä¸€æ­¥åˆå¹¶ï¼šè®©æ¯ä¸€å¯¹æƒ…ä¾£åœ¨åŒä¸€ä¸ªå­åŒºé—´ï¼Œå³ï¼ˆ0ï¼Œ1ï¼‰ï¼ˆ2ï¼Œ3ï¼‰â€¦â€¦</li> <li>ç¬¬äºŒæ­¥åˆå¹¶ï¼š
<ul><li>éå†numsï¼Œä¸¤ä¸¤ä¸€ç»„</li> <li>æ£€æŸ¥nums[i]å’Œnums[i + 1]æ˜¯å¦åœ¨åŒä¸€ä¸ªåŒºé—´ï¼Œä¸åœ¨å°±åˆå¹¶ï¼Œåœ¨å°±ç»§ç»­éå†</li> <li>ç»Ÿè®¡åˆå¹¶æ¬¡æ•°</li></ul></li> <li>è¿”å›åˆå¹¶æ¬¡æ•°</li></ul></li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">minSwapsCouples</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> row<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å…ˆå°†æ¯ä¸€å¯¹æƒ…ä¾£æ”¾å…¥ä¸€ä¸ªå­åŒºé—´</span>
            <span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// ä»å¤´åˆ°å°¾ä¸¤ä¸¤éå†ï¼Œå¦‚æœå½“å‰ä¸€å¯¹ä¸æ˜¯ä¸€ä¸ªåŒºé—´çš„ï¼Œé‚£ä¹ˆå°±æŠŠä»–ä»¬æ‰€åœ¨åŒºé—´åˆå¹¶ï¼Œå¹¶è®°å½•åˆå¹¶æ¬¡æ•°</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">find</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">merge</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> row<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> count<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="_778-æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³-ğŸŒŸ"><a href="#_778-æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³-ğŸŒŸ" class="header-anchor">#</a> 778. æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³ <span id="778"></span> ğŸŒŸ</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ef4743">å›°éš¾</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>åœ¨ä¸€ä¸ª <code>n x n</code> çš„æ•´æ•°çŸ©é˜µ <code>grid</code> ä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ ¼çš„å€¼ <code>grid[i][j]</code> è¡¨ç¤ºä½ç½® <code>(i, j)</code> çš„å¹³å°é«˜åº¦ã€‚</p> <p>å½“å¼€å§‹ä¸‹é›¨æ—¶ï¼Œåœ¨æ—¶é—´ä¸º <code>t</code> æ—¶ï¼Œæ°´æ± ä¸­çš„æ°´ä½ä¸º <code>t</code> ã€‚ä½ å¯ä»¥ä»ä¸€ä¸ªå¹³å°æ¸¸å‘å››å‘¨ç›¸é‚»çš„ä»»æ„ä¸€ä¸ªå¹³å°ï¼Œä½†æ˜¯å‰ææ˜¯æ­¤æ—¶æ°´ä½å¿…é¡»åŒæ—¶æ·¹æ²¡è¿™ä¸¤ä¸ªå¹³å°ã€‚å‡å®šä½ å¯ä»¥ç¬é—´ç§»åŠ¨æ— é™è·ç¦»ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤åœ¨æ–¹æ ¼å†…éƒ¨æ¸¸åŠ¨æ˜¯ä¸è€—æ—¶çš„ã€‚å½“ç„¶ï¼Œåœ¨ä½ æ¸¸æ³³çš„æ—¶å€™ä½ å¿…é¡»å¾…åœ¨åæ ‡æ–¹æ ¼é‡Œé¢ã€‚</p> <p>ä½ ä»åæ ‡æ–¹æ ¼çš„å·¦ä¸Šå¹³å° <code>(0ï¼Œ0)</code> å‡ºå‘ã€‚è¿”å› <em>ä½ åˆ°è¾¾åæ ‡æ–¹æ ¼çš„å³ä¸‹å¹³å° <code>(n-1, n-1)</code> æ‰€éœ€çš„æœ€å°‘æ—¶é—´ ã€‚</em></p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <p><img src="https://store.southyang.cn/LeetCode/UnionFind/swim1-grid.jpg" alt="æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥: grid = [[0,2],[1,3]]
è¾“å‡º: 3
è§£é‡Š:
æ—¶é—´ä¸º0æ—¶ï¼Œä½ ä½äºåæ ‡æ–¹æ ¼çš„ä½ç½®ä¸º (0, 0)ã€‚
æ­¤æ—¶ä½ ä¸èƒ½æ¸¸å‘ä»»æ„æ–¹å‘ï¼Œå› ä¸ºå››ä¸ªç›¸é‚»æ–¹å‘å¹³å°çš„é«˜åº¦éƒ½å¤§äºå½“å‰æ—¶é—´ä¸º 0 æ—¶çš„æ°´ä½ã€‚
ç­‰æ—¶é—´åˆ°è¾¾ 3 æ—¶ï¼Œä½ æ‰å¯ä»¥æ¸¸å‘å¹³å° (1, 1). å› ä¸ºæ­¤æ—¶çš„æ°´ä½æ˜¯ 3ï¼Œåæ ‡æ–¹æ ¼ä¸­çš„å¹³å°æ²¡æœ‰æ¯”æ°´ä½ 3 æ›´é«˜çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ¸¸å‘åæ ‡æ–¹æ ¼ä¸­çš„ä»»æ„ä½ç½®
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="https://store.southyang.cn/LeetCode/UnionFind/swim2-grid-1.jpg" alt="æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥: grid = [[0,1,2,3,4],[24,23,22,21,5],[12,13,14,15,16],[11,17,18,19,20],[10,9,8,7,6]]
è¾“å‡º: 16
è§£é‡Š: æœ€ç»ˆçš„è·¯çº¿ç”¨åŠ ç²—è¿›è¡Œäº†æ ‡è®°ã€‚
æˆ‘ä»¬å¿…é¡»ç­‰åˆ°æ—¶é—´ä¸º 16ï¼Œæ­¤æ—¶æ‰èƒ½ä¿è¯å¹³å° (0, 0) å’Œ (4, 4) æ˜¯è¿é€šçš„
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>n == grid.length</code></li> <li><code>n == grid[i].length</code></li> <li><code>1 &lt;= n &lt;= 50</code></li> <li><code>0 &lt;= grid[i][j] &lt; n2</code></li> <li><code>grid[i][j]</code> ä¸­æ¯ä¸ªå€¼ <strong>å‡æ— é‡å¤</strong></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>è¿™é“é¢˜è§£æ³•çš„å¦™å¤„åœ¨äºï¼Œ<code>t</code>ç§’çš„æ°´ä½ä¸º<code>t</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰¾åˆ°é«˜åº¦ä¸º<code>t</code>çš„å¹³å°ï¼ŒæŸ¥çœ‹è¯¥å¹³å°å‘¨å›´çš„å››ä¸ªæ–¹å‘ï¼Œ æ˜¯å¦æœ‰é«˜åº¦ä½äº<code>t</code>çš„ï¼Œå¦‚æœæœ‰ï¼Œå°±åˆå¹¶ä¸ºä¸€ä¸ªåŒºé—´</li> <li>é«˜åº¦ä»ä½åˆ°é«˜éå†å¹³å°ï¼Œä¿è¯ç¬¦åˆå½“å‰æ°´ä½çš„å¹³å°ä¸€å®šéƒ½è¢«éå†è¿‡ï¼Œä¸”å»ºç«‹äº†æ­£ç¡®çš„å­åŒºé—´</li> <li>å½“åœ¨éå†è¿‡ç¨‹ä¸­å‘ç°ï¼Œ<code>(0, 0)</code>å’Œ<code>(n-1, n-1)</code>å¹³å°åœ¨åŒä¸€åŒºé—´å†…ï¼Œåˆ™è¿”å›æ°´ä½å³å¯</li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> sideLength<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> directions<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> i <span class="token operator">*</span> sideLength <span class="token operator">+</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">swimInWater</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> grid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sideLength <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> allLength <span class="token operator">=</span> sideLength <span class="token operator">*</span> sideLength<span class="token punctuation">;</span>

        <span class="token keyword">int</span> index<span class="token punctuation">[</span>allLength<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sideLength<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å°†æ¯ä¸ªä½ç½®çš„é«˜åº¦å’Œåæ ‡å¯¹åº”å­˜å…¥index</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> sideLength<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                index<span class="token punctuation">[</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token function">initUnion</span><span class="token punctuation">(</span>allLength<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> allLength<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// è·å–å’Œå½“å‰æ°´ä½é«˜åº¦ç›¸åŒç‚¹çš„åæ ‡</span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> index<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> sideLength<span class="token punctuation">;</span>
            <span class="token keyword">int</span> y <span class="token operator">=</span> index<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> sideLength<span class="token punctuation">;</span>

            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> dir<span class="token operator">:</span> directions<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// è·å–æ–°çš„ç‚¹</span>
                <span class="token keyword">int</span> newx <span class="token operator">=</span> x <span class="token operator">+</span> dir<span class="token punctuation">.</span>first<span class="token punctuation">,</span> newy <span class="token operator">=</span> y <span class="token operator">+</span> dir<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
                <span class="token comment">// åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼šæ˜¯å¦åœ¨çŸ©é˜µå†… &amp;&amp; é«˜åº¦æ˜¯å¦ä½äºæ°´ä½</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>newx <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newx <span class="token operator">&lt;</span> sideLength <span class="token operator">&amp;&amp;</span> newy <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newy <span class="token operator">&lt;</span> sideLength <span class="token operator">&amp;&amp;</span> grid<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">getIndex</span><span class="token punctuation">(</span>newx<span class="token punctuation">,</span> newy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>allLength <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> i<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br></div></div><h3 id="_803-æ‰“ç –å—-ğŸŒŸ"><a href="#_803-æ‰“ç –å—-ğŸŒŸ" class="header-anchor">#</a> 803. æ‰“ç –å— <span id="803"></span> ğŸŒŸ</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ef4743">å›°éš¾</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>æœ‰ä¸€ä¸ª <code>m x n</code> çš„äºŒå…ƒç½‘æ ¼ <code>grid</code> ï¼Œå…¶ä¸­ <code>1</code> è¡¨ç¤ºç –å—ï¼Œ<code>0</code> è¡¨ç¤ºç©ºç™½ã€‚ç –å— <strong>ç¨³å®š</strong>ï¼ˆä¸ä¼šæ‰è½ï¼‰çš„å‰ææ˜¯ï¼š</p> <ul><li>ä¸€å—ç –ç›´æ¥è¿æ¥åˆ°ç½‘æ ¼çš„é¡¶éƒ¨ï¼Œæˆ–è€…</li> <li>è‡³å°‘æœ‰ä¸€å—ç›¸é‚»ï¼ˆ4 ä¸ªæ–¹å‘ä¹‹ä¸€ï¼‰ç –å— <strong>ç¨³å®š</strong> ä¸ä¼šæ‰è½æ—¶</li></ul> <p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>hits</code> ï¼Œè¿™æ˜¯éœ€è¦ä¾æ¬¡æ¶ˆé™¤ç –å—çš„ä½ç½®ã€‚æ¯å½“æ¶ˆé™¤ <code>hits[i] = (rowi, coli)</code> ä½ç½®ä¸Šçš„ç –å—æ—¶ï¼Œå¯¹åº”ä½ç½®çš„ç –å—ï¼ˆè‹¥å­˜åœ¨ï¼‰ä¼šæ¶ˆå¤±ï¼Œç„¶åå…¶ä»–çš„ç –å—å¯èƒ½å› ä¸ºè¿™ä¸€æ¶ˆé™¤æ“ä½œè€Œ <strong>æ‰è½</strong> ã€‚ä¸€æ—¦ç –å—æ‰è½ï¼Œå®ƒä¼š <strong>ç«‹å³</strong> ä»ç½‘æ ¼ <code>grid</code> ä¸­æ¶ˆå¤±ï¼ˆå³ï¼Œå®ƒä¸ä¼šè½åœ¨å…¶ä»–ç¨³å®šçš„ç –å—ä¸Šï¼‰ã€‚</p> <p>è¿”å›ä¸€ä¸ªæ•°ç»„ <code>result</code> ï¼Œå…¶ä¸­ <code>result[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> æ¬¡æ¶ˆé™¤æ“ä½œå¯¹åº”æ‰è½çš„ç –å—æ•°ç›®ã€‚</p> <p><strong>æ³¨æ„</strong>ï¼Œæ¶ˆé™¤å¯èƒ½æŒ‡å‘æ˜¯æ²¡æœ‰ç –å—çš„ç©ºç™½ä½ç½®ï¼Œå¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œåˆ™æ²¡æœ‰ç –å—æ‰è½ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgrid = [[1,0,0,0],[1,1,1,0]], hits = [[1,0]]
è¾“å‡ºï¼š[2]
è§£é‡Šï¼šç½‘æ ¼å¼€å§‹ä¸ºï¼š
[[1,0,0,0]ï¼Œ
 [1,1,1,0]]
æ¶ˆé™¤ (1,0) å¤„åŠ ç²—çš„ç –å—ï¼Œå¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0]
 [0,1,1,0]]
ä¸¤ä¸ªåŠ ç²—çš„ç –ä¸å†ç¨³å®šï¼Œå› ä¸ºå®ƒä»¬ä¸å†ä¸é¡¶éƒ¨ç›¸è¿ï¼Œä¹Ÿä¸å†ä¸å¦ä¸€ä¸ªç¨³å®šçš„ç –ç›¸é‚»ï¼Œå› æ­¤å®ƒä»¬å°†æ‰è½ã€‚å¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0],
 [0,0,0,0]]
å› æ­¤ï¼Œç»“æœä¸º [2] ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgrid = [[1,0,0,0],[1,1,0,0]], hits = [[1,1],[1,0]]
è¾“å‡ºï¼š[0,0]
è§£é‡Šï¼šç½‘æ ¼å¼€å§‹ä¸ºï¼š
[[1,0,0,0],
 [1,1,0,0]]
æ¶ˆé™¤ (1,1) å¤„åŠ ç²—çš„ç –å—ï¼Œå¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0],
 [1,0,0,0]]
å‰©ä¸‹çš„ç –éƒ½å¾ˆç¨³å®šï¼Œæ‰€ä»¥ä¸ä¼šæ‰è½ã€‚ç½‘æ ¼ä¿æŒä¸å˜ï¼š
[[1,0,0,0], 
 [1,0,0,0]]
æ¥ä¸‹æ¥æ¶ˆé™¤ (1,0) å¤„åŠ ç²—çš„ç –å—ï¼Œå¾—åˆ°ç½‘æ ¼ï¼š
[[1,0,0,0],
 [0,0,0,0]]
å‰©ä¸‹çš„ç –å—ä»ç„¶æ˜¯ç¨³å®šçš„ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰ç –å—æ‰è½ã€‚
å› æ­¤ï¼Œç»“æœä¸º [0,0] ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>m == grid.length</code></li> <li><code>n == grid[i].length</code></li> <li><code>1 &lt;= m, n &lt;= 200</code></li> <li><code>grid[i][j]</code> ä¸º <code>0</code> æˆ– <code>1</code></li> <li><code>1 &lt;= hits.length &lt;= 4 * 104</code></li> <li><code>hits[i].length == 2</code></li> <li><code>0 &lt;= xi &lt;= m - 1</code></li> <li><code>0 &lt;= yi &lt;= n - 1</code></li> <li>æ‰€æœ‰ <code>(xi, yi)</code> äº’ä¸ç›¸åŒ</li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>é€†å‘æ€ç»´ï¼Œå¹¶æŸ¥é›†æ˜¯åˆå¹¶åŒºé—´ï¼Œä½†è¿™é“é¢˜æ˜¯åˆ†ç¦»åŒºé—´ï¼›é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æŠŠåˆ†ç¦»é€†å‘ä¸ºåˆå¹¶å³å¯</li> <li>ä¸»è¦é€»è¾‘
<ul><li>å®šä¹‰tempGridæ¥å­˜æ”¾å®Œå…¨åˆ†ç¦»åçš„åŒºé—´ï¼Œå³å°†æ¶ˆé™¤æ‰çš„åœ°æ–¹å…¨éƒ¨ç½®ä¸º0</li> <li>åˆå§‹åŒ–å¹¶æŸ¥é›†ï¼Œå¹¶æ ¹æ®æœ€åˆçš„tempGridæ¥å»ºç«‹å¹¶æŸ¥é›†
<ul><li>å®šä¹‰ä¸€ä¸ªroofæ¥ä½œä¸ºå±‹é¡¶ç»“ç‚¹ï¼Œæœ€é¡¶å±‚çš„ç –å—é¦–å…ˆå’Œå±‹é¡¶è¿ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œä»£è¡¨æœ€åˆå§‹çš„ç¨³å®šåŒºé—´</li> <li>å…¶æ¬¡éå†å…¶ä»–å±‚çš„ç –å—ï¼Œå»ºç«‹ç›¸åº”çš„åŒºé—´</li></ul></li> <li>ä»åå¾€å‰éå†æ¶ˆé™¤ç –å—ï¼Œå¡«è¡¥ç©ºç¼ºåï¼Œè§‚å¯Ÿæœ‰æ— å­åŒºé—´å¯ä»¥åˆå¹¶
<ul><li>å¦‚æœåœ¨gridä¸­çš„ä½ç½®æ˜¯ç©ºï¼Œé‚£ä¹ˆç›´æ¥å‹å…¥0å³å¯ï¼Œä¸€å®šæ²¡æœ‰ç –å—å—å½±å“</li> <li>åˆå¹¶çš„ä¸»ä»ä½ç½®ä¸å½±å“æœ€åæ“ä½œ</li> <li>å®šä¹‰getSize()å‡½æ•°æ¥è·å–æ¯ä¸ªå…ƒç´ æ‰€åœ¨åŒºé—´çš„å…ƒç´ ä¸ªæ•°ï¼Œå› æ­¤ä¸å—ä¸»ä»ä½ç½®çš„å½±å“</li></ul></li></ul></li> <li>æœ€ç»ˆè¿”å›reså³å¯</li> <li><a href="https://leetcode.cn/problems/bricks-falling-when-hit/solution/803-da-zhuan-kuai-by-leetcode-r5kf/" target="_blank" rel="noopener noreferrer">å®˜æ–¹é¢˜è§£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>å¾ˆè¯¦ç»†ï¼Œå¯ä»¥æŸ¥çœ‹</li> <li>è¸©çš„å‘å°±æ˜¯ï¼Œä¸€å®šè¦å®šä¹‰getSize()å‡½æ•°ï¼Œæˆ‘å¼€å§‹å°è¯•ç”¨roofä¸€ç›´ä½œä¸ºæ ¹ç»“ç‚¹ï¼Œåæ¥å‘ç°æ²¡åŠæ³•å…¨é¢è€ƒè™‘ï¼Œæ€»ä¼šæœ‰æƒ…å†µå¯¼è‡´æ ¹ç»“ç‚¹å‘ç”Ÿå˜åŒ–ï¼Œè‡´ä½¿æœ€ç»ˆç»“æœå‡ºé”™ã€‚getSize()å‡½æ•°å¯ä»¥ä¿è¯ä¸€å®šæ˜¯è¿”å›äº†ç¥–å®—ç»“ç‚¹çš„sizeå€¼</li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> row<span class="token punctuation">,</span> col<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">,</span> size<span class="token punctuation">;</span>
    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> directions<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> <span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> i <span class="token operator">*</span> col <span class="token operator">+</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">bool</span> <span class="token function">inGrid</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> row <span class="token operator">&amp;&amp;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span>
        size<span class="token punctuation">[</span>pa<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>pb<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¾ˆé‡è¦ï¼Œå› ä¸ºæœ‰å¯èƒ½æ ¹ç»“ç‚¹ä¼šå˜æˆå…¶ä»–çš„ç‚¹ï¼Œä½†åŒºé—´æ€»å’Œä¸ä¼šå˜</span>
        <span class="token keyword">return</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">hitBricks</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> grid<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> hits<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> res<span class="token punctuation">;</span>
        row <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        col <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> tempGrid<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> hits<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> roof <span class="token operator">=</span> row <span class="token operator">*</span> col<span class="token punctuation">;</span>

        <span class="token comment">// åˆå§‹åŒ–tempGridï¼Œå°†éœ€è¦å‡»ç¢çš„åœ°æ–¹å˜ä¸º0</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å°†gridèµ‹ç»™tempGrid</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                tempGrid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å°†å¯¹åº”ä½ç½®å˜ä¸º0</span>
            tempGrid<span class="token punctuation">[</span>hits<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>hits<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// å»ºç«‹å¹¶æŸ¥é›†å¹¶åˆå§‹åŒ–</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span>roof <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¤šå‡ºæ¥çš„ä¸€ä¸ªç©ºé—´ç»™å±‹é¡¶ï¼Œå±‹é¡¶ä¸ºä¸€ä¸ªæ•´ä½“</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>tempGrid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å°†æœ€ä¸Šé¢çš„ç –å—å’Œå±‹é¡¶æ”¾å…¥ä¸€ä¸ªå­åŒºé—´</span>
                <span class="token function">merge</span><span class="token punctuation">(</span>roof<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> row<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¯¹äºå…¶ä½™ç –å—ï¼Œåˆ¤æ–­ä¸Šè¾¹å’Œå·¦è¾¹æ˜¯å¦ä¸ºç –å—</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> col<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>tempGrid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>tempGrid<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> tempGrid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// ä¸æ–­æ·»åŠ ç –å—ï¼Œä¿®æ”¹è¿”å›å€¼</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">int</span> x <span class="token operator">=</span> hits<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y <span class="token operator">=</span> hits<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// æ‹¿åˆ°åæ ‡</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">int</span> tempSize <span class="token operator">=</span> <span class="token function">getSize</span><span class="token punctuation">(</span>roof<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æŠŠä¸Šæ–¹æ˜¯å±‹é¡¶çš„æƒ…å†µå…ˆåˆ¤æ–­äº†</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>roof<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> dir<span class="token operator">:</span> directions<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// è·å–æ–°çš„ç‚¹</span>
                    <span class="token keyword">int</span> newx <span class="token operator">=</span> x <span class="token operator">+</span> dir<span class="token punctuation">.</span>first<span class="token punctuation">,</span> newy <span class="token operator">=</span> y <span class="token operator">+</span> dir<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
                    <span class="token comment">// åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼šæ˜¯å¦åœ¨çŸ©é˜µå†… &amp;&amp; æ˜¯å¦æ˜¯ç –å—</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">inGrid</span><span class="token punctuation">(</span>newx<span class="token punctuation">,</span> newy<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> tempGrid<span class="token punctuation">[</span>newx<span class="token punctuation">]</span><span class="token punctuation">[</span>newy<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token function">merge</span><span class="token punctuation">(</span><span class="token function">getIndex</span><span class="token punctuation">(</span>newx<span class="token punctuation">,</span> newy<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getIndex</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                
                
                <span class="token keyword">int</span> nowSize <span class="token operator">=</span> <span class="token function">getSize</span><span class="token punctuation">(</span>roof<span class="token punctuation">)</span><span class="token punctuation">;</span>
                res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> nowSize <span class="token operator">-</span> tempSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                tempGrid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span><span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token function">reverse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br></div></div><h3 id="_924-å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­-ğŸŒŸ"><a href="#_924-å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­-ğŸŒŸ" class="header-anchor">#</a> 924. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ <span id="924"></span> ğŸŒŸ</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ef4743">å›°éš¾</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>ç»™å®šä¸€ä¸ªç”± <code>n</code> ä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œï¼Œç”¨ <code>n x n</code> ä¸ªé‚»æ¥çŸ©é˜µ <code>graph</code> è¡¨ç¤ºã€‚åœ¨èŠ‚ç‚¹ç½‘ç»œä¸­ï¼Œåªæœ‰å½“ <code>graph[i][j] =1</code> æ—¶ï¼ŒèŠ‚ç‚¹ <code>i</code> èƒ½å¤Ÿç›´æ¥è¿æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ <code>j</code>ã€‚</p> <p>ä¸€äº›èŠ‚ç‚¹ <code>initial</code> æœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ã€‚åªè¦ä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ï¼Œä¸”å…¶ä¸­è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹å—åˆ°æ¶æ„è½¯ä»¶çš„æ„ŸæŸ“ï¼Œé‚£ä¹ˆä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ã€‚è¿™ç§æ¶æ„è½¯ä»¶çš„ä¼ æ’­å°†ç»§ç»­ï¼Œç›´åˆ°æ²¡æœ‰æ›´å¤šçš„èŠ‚ç‚¹å¯ä»¥è¢«è¿™ç§æ–¹å¼æ„ŸæŸ“ã€‚</p> <p>å‡è®¾ <code>M(initial)</code> æ˜¯åœ¨æ¶æ„è½¯ä»¶åœæ­¢ä¼ æ’­ä¹‹åï¼Œæ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°ã€‚</p> <p>å¦‚æœä» <code>initial</code> ä¸­<strong>ç§»é™¤æŸä¸€èŠ‚ç‚¹</strong>èƒ½å¤Ÿæœ€å°åŒ– <code>M(initial)</code>ï¼Œ è¿”å›è¯¥èŠ‚ç‚¹ã€‚å¦‚æœæœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œå°±è¿”å›<strong>ç´¢å¼•æœ€å°</strong>çš„èŠ‚ç‚¹ã€‚**</p> <p>è¯·æ³¨æ„ï¼Œå¦‚æœæŸä¸ªèŠ‚ç‚¹å·²ä»å—æ„ŸæŸ“èŠ‚ç‚¹çš„åˆ—è¡¨ <code>initial</code> ä¸­åˆ é™¤ï¼Œå®ƒä»¥åä»æœ‰å¯èƒ½å› æ¶æ„è½¯ä»¶ä¼ æ’­è€Œå—åˆ°æ„ŸæŸ“ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgraph = [[1,1,0],[1,1,0],[0,0,1]], initial = [0,1]
è¾“å‡ºï¼š0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgraph = [[1,0,0],[0,1,0],[0,0,1]], initial = [0,2]
è¾“å‡ºï¼š0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgraph = [[1,1,1],[1,1,1],[1,1,1]], initial = [1,2]
è¾“å‡ºï¼š1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>n == graph.length</code></li> <li><code>n == graph[i].length</code></li> <li><code>2 &lt;= n &lt;= 300</code></li> <li><code>graph[i][j]</code> æ˜¯ <code>0</code> æˆ– <code>1</code>.</li> <li><code>graph[i][j] == graph[j][i]</code></li> <li><code>graph[i][i] == 1</code></li> <li><code>1 &lt;= initial.length &lt; n</code></li> <li><code>0 &lt;= initial[i] &lt;= n - 1</code></li> <li><code>initial</code> ä¸­æ¯ä¸ªæ•´æ•°éƒ½<strong>ä¸åŒ</strong></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li><p>é¦–å…ˆå»ºç«‹å¹¶æŸ¥é›†ï¼Œåˆå¹¶ç›¸è¿æ¥ç‚¹</p></li> <li><p>å¯¹äºæ¯ä¸ªæ±¡æŸ“ç‚¹æ¥è¯´ï¼Œç»Ÿè®¡å…¶æ‰€åœ¨å­åŒºé—´ä¸­çš„æ±¡æŸ“ç‚¹ä¸ªæ•°</p></li> <li><p>å¦‚æœï¼Œè¯¥åŒºé—´æ±¡æŸ“ç‚¹ä¸ªæ•°å¤§äº<code>1</code>ï¼Œåˆ™åˆ é™¤æ±¡æŸ“ç‚¹æ— æ„ä¹‰</p> <ul><li>å› ä¸ºåªèƒ½åˆ é™¤ä¸€ä¸ªæ±¡æŸ“ç‚¹ï¼Œè€Œåˆ é™¤åï¼Œè¯¥åŒºé—´ä¾ç„¶ä¼šè¢«å…¶ä»–ç‚¹æ±¡æŸ“</li></ul></li> <li><p>åä¹‹ï¼Œæ±¡æŸ“ç‚¹ä¸ªæ•°ä¸º<code>1</code>ï¼Œåˆ™å¯ä»¥åˆ é™¤</p></li> <li><p>æœ€ç»ˆè¿”å›<code>res</code></p></li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">,</span>size<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span>
        size<span class="token punctuation">[</span>pa<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>pb<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">minMalwareSpread</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> graph<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> initial<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå¹¶æ‰€æœ‰çš„ç›¸è¿ç‚¹</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">count</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> dirty<span class="token operator">:</span> initial<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// ç»Ÿè®¡ï¼Œæ¯ä¸ªæ±¡æŸ“ç‚¹æ‰€åœ¨çš„å­åŒºé—´å†…ï¼Œæœ‰å¤šå°‘ä¸ªæ±¡æŸ“ç‚¹</span>
            count<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>dirty<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> tempSize <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> dirty<span class="token operator">:</span> initial<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">int</span> pdirty <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>dirty<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token punctuation">[</span>pdirty<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¦‚æœè¯¥åŒºé—´å†…ï¼Œæ±¡æŸ“ç‚¹å¤§äº1ä¸ªï¼Œåˆ™åˆ é™¤æ— æ„ä¹‰</span>
                <span class="token keyword">int</span> tempSize1 <span class="token operator">=</span> size<span class="token punctuation">[</span>pdirty<span class="token punctuation">]</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>tempSize1 <span class="token operator">&gt;</span> tempSize <span class="token operator">||</span> <span class="token punctuation">(</span>tempSize1 <span class="token operator">==</span> tempSize <span class="token operator">&amp;&amp;</span> dirty <span class="token operator">&lt;</span> res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    tempSize <span class="token operator">=</span> tempSize1<span class="token punctuation">;</span>
                    res <span class="token operator">=</span> dirty<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¦‚æœæ‰€æœ‰çš„æ±¡æŸ“ç‚¹åˆ é™¤å‡æ— æ„ä¹‰ï¼Œå°±è¿”å›æœ€å°ç‚¹</span>
            res <span class="token operator">=</span> <span class="token operator">*</span><span class="token function">min_element</span><span class="token punctuation">(</span>initial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> initial<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h3 id="_928-å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ii-ğŸŒŸ"><a href="#_928-å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­ii-ğŸŒŸ" class="header-anchor">#</a> 928. å°½é‡å‡å°‘æ¶æ„è½¯ä»¶çš„ä¼ æ’­II <span id="928"></span> ğŸŒŸ</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ef4743">å›°éš¾</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>ç»™å®šä¸€ä¸ªç”± <code>n</code> ä¸ªèŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œï¼Œç”¨ <code>n x n</code> ä¸ªé‚»æ¥çŸ©é˜µ <code>graph</code> è¡¨ç¤ºã€‚åœ¨èŠ‚ç‚¹ç½‘ç»œä¸­ï¼Œåªæœ‰å½“ <code>graph[i][j] =1</code> æ—¶ï¼ŒèŠ‚ç‚¹ <code>i</code> èƒ½å¤Ÿç›´æ¥è¿æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ <code>j</code>ã€‚</p> <p>ä¸€äº›èŠ‚ç‚¹ <code>initial</code> æœ€åˆè¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ã€‚åªè¦ä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥è¿æ¥ï¼Œä¸”å…¶ä¸­è‡³å°‘ä¸€ä¸ªèŠ‚ç‚¹å—åˆ°æ¶æ„è½¯ä»¶çš„æ„ŸæŸ“ï¼Œé‚£ä¹ˆä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°†è¢«æ¶æ„è½¯ä»¶æ„ŸæŸ“ã€‚è¿™ç§æ¶æ„è½¯ä»¶çš„ä¼ æ’­å°†ç»§ç»­ï¼Œç›´åˆ°æ²¡æœ‰æ›´å¤šçš„èŠ‚ç‚¹å¯ä»¥è¢«è¿™ç§æ–¹å¼æ„ŸæŸ“ã€‚</p> <p>å‡è®¾ <code>M(initial)</code> æ˜¯åœ¨æ¶æ„è½¯ä»¶åœæ­¢ä¼ æ’­ä¹‹åï¼Œæ•´ä¸ªç½‘ç»œä¸­æ„ŸæŸ“æ¶æ„è½¯ä»¶çš„æœ€ç»ˆèŠ‚ç‚¹æ•°ã€‚</p> <p>æˆ‘ä»¬å¯ä»¥ä» <code>initial</code> ä¸­<strong>åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹</strong>ï¼Œ<strong>å¹¶å®Œå…¨ç§»é™¤è¯¥èŠ‚ç‚¹ä»¥åŠä»è¯¥èŠ‚ç‚¹åˆ°ä»»ä½•å…¶ä»–èŠ‚ç‚¹çš„ä»»ä½•è¿æ¥ã€‚</strong></p> <p>è¯·è¿”å›ç§»é™¤åèƒ½å¤Ÿä½¿ <code>M(initial)</code> æœ€å°åŒ–çš„èŠ‚ç‚¹ã€‚å¦‚æœæœ‰å¤šä¸ªèŠ‚ç‚¹æ»¡è¶³æ¡ä»¶ï¼Œè¿”å›ç´¢å¼• <strong>æœ€å°çš„èŠ‚ç‚¹</strong> ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å‡ºï¼šgraph = [[1,1,0],[1,1,0],[0,0,1]], initial = [0,1]
è¾“å…¥ï¼š0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgraph = [[1,1,0],[1,1,1],[0,1,1]], initial = [0,1]
è¾“å‡ºï¼š1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgraph = [[1,1,0,0],[1,1,1,0],[0,1,1,1],[0,0,1,1]], initial = [0,1]
è¾“å‡ºï¼š1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>n == graph.length</code></li> <li><code>n == graph[i].length</code></li> <li><code>2 &lt;= n &lt;= 300</code></li> <li><code>graph[i][j]</code> æ˜¯ <code>0</code> æˆ– <code>1</code>.</li> <li><code>graph[i][j] == graph[j][i]</code></li> <li><code>graph[i][i] == 1</code></li> <li><code>1 &lt;= initial.length &lt; n</code></li> <li><code>0 &lt;= initial[i] &lt;= n - 1</code></li> <li><code>initial</code> ä¸­æ¯ä¸ªæ•´æ•°éƒ½<strong>ä¸åŒ</strong></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li><p>å’Œ 924é¢˜ çš„åŒºåˆ«åœ¨äº</p> <ul><li>æœ¬é¢˜å®Œå…¨åˆ é™¤äº†æ‰€æœ‰è¿æ¥ï¼Œå¯è§†ä¸ºè¯¥ç‚¹ä¸å­˜åœ¨</li> <li>è€Œ924é¢˜åªæ˜¯å°†åˆå§‹çŠ¶æ€æ”¹ä¸ºæœªæ±¡æŸ“ï¼Œåç»­ä¾ç„¶å¯ä»¥è¿›å…¥æ•´ä½“çš„é€»è¾‘æ“ä½œä¸­</li> <li>å› æ­¤ï¼Œ924å¯ä»¥ç›´æ¥è¿æ¥æ‰€æœ‰ç›¸è¿ç‚¹ï¼Œç»Ÿè®¡æ¯ä¸ªæ±¡æŸ“ç‚¹æ‰€åœ¨åŒºé—´çš„å¤§å°</li> <li>è€Œå¯¹äºæœ¬é¢˜ï¼Œå®Œå…¨åˆ é™¤ç»“ç‚¹æœ‰å¯èƒ½å°†å¤§åŒºé—´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå› æ­¤åªèƒ½å¯¹æœªæ±¡æŸ“ç‚¹å»ºç«‹å­åŒºé—´</li></ul></li> <li><p>é¦–å…ˆå¯¹åˆå§‹çš„æœªæ±¡æŸ“ç‚¹æ„å»ºå¹¶æŸ¥é›†ï¼Œå°†æœªæ±¡æŸ“ç‚¹åˆå¹¶ä¸ºå¤šä¸ªå­åŒºé—´</p></li> <li><p>å¯¹äºåˆ é™¤æ±¡æŸ“ç‚¹</p> <ul><li>å¦‚æœä¸€ä¸ªå­åŒºé—´å’Œå¤šä¸ªæ±¡æŸ“ç‚¹ç›¸è¿ï¼Œé‚£åˆ é™¤æ±¡æŸ“ç‚¹æ˜¯æ— æ„ä¹‰çš„ã€‚åˆ äº†ä¸€ä¸ªï¼Œå…¶ä»–æ±¡æŸ“ç‚¹ä¾ç„¶å¯ä»¥å°†åŒºé—´å†…çš„æ‰€æœ‰ç‚¹éƒ½æ±¡æŸ“äº†</li> <li>å¦‚æœä¸€ä¸ªå­åŒºé—´åªå’Œä¸€ä¸ªæ±¡æŸ“ç‚¹ç›¸è¿ï¼Œé‚£ä¹ˆåˆ é™¤è¯¥æ±¡æŸ“ç‚¹åï¼Œè¯¥åŒºé—´å°±éƒ½å¯ä»¥å¹¸å­˜ï¼Œå¯ä»¥å‡å°‘<code>M(initial)</code></li></ul></li> <li><p>å› æ­¤æˆ‘ä»¬ç»Ÿè®¡å¯¹äºæ¯ä¸ªæ±¡æŸ“ç‚¹ï¼Œå¯ä»¥åˆ°è¾¾çš„æ‰€æœ‰æœªæ±¡æŸ“å­åŒºé—´ï¼Œå³<code>graph[dirty][clean] = 1</code>ï¼Œè·å¾—<code>find(clean)</code></p></li> <li><p>å°†æ‰€æœ‰åŒºé—´çš„ç¥–å®—ç»“ç‚¹æ”¾å…¥åŒä¸€ä¸ª<code>set</code>ä¸­ï¼Œå¹¶å’Œå¯¹åº”çš„æ±¡æŸ“ç‚¹å‹å…¥<code>map</code>ä¸­ï¼Œæ„æˆ<code>key-value</code></p></li> <li><p>åŒæ—¶æˆ‘ä»¬è¦ç»Ÿè®¡å¯¹äºæ‰€æœ‰çš„ç¥–å®—ç»“ç‚¹ï¼Œæœ‰å¤šå°‘æ±¡æŸ“ç‚¹å¯ä»¥åˆ°è¾¾å®ƒä»¬ï¼Œä¹Ÿå°±æ˜¯<code>count[i]</code></p></li> <li><p>æœ€åï¼Œéå†<code>map</code>ï¼Œå–å‡ºæ±¡æŸ“ç‚¹å’Œ<code>set</code>ï¼Œåˆ¤æ–­èƒ½å¦ç§»é™¤å½“å‰æ±¡æŸ“ç‚¹ï¼Œè®¡ç®—<code>tempSize</code>å’Œ<code>res</code></p></li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">,</span> size<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span>
        size<span class="token punctuation">[</span>pa<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>pb<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">minMalwareSpread</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> graph<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> initial<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">initUnion</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ç¬¬ä¸€æ­¥ï¼Œå°†åˆå§‹æ²¡æœ‰è¢«æ±¡æŸ“çš„ç‚¹å»ºç«‹å¹¶æŸ¥é›†</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">cleanNode</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœªæ±¡æŸ“ç‚¹ï¼Œåˆå§‹å€¼ä¸º1</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token operator">:</span> initial<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å°†è¢«æ±¡æŸ“ç‚¹çš„å¯¹åº”ä½ç½®å˜ä¸º0</span>
            cleanNode<span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆå¹¶æœªæ±¡æŸ“åŒºé—´</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>cleanNode<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>cleanNode<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> graph<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        <span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// ç¬¬äºŒæ­¥ï¼Œç»Ÿè®¡æ¯ä¸ªæ±¡æŸ“ç‚¹å¯ä»¥åˆ°è¾¾çš„æœªæ±¡æŸ“ç‚¹åŒºé—´;å¹¶è®°å½•æ¯ä¸ªæœªæ±¡æŸ“åŒºé—´å¯ä»¥è¢«å¤šå°‘æ±¡æŸ“ç‚¹åˆ°è¾¾</span>
        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">count</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯åˆ°è¾¾æœªæ±¡æŸ“åŒºé—´çš„æ±¡æŸ“ç‚¹ä¸ªæ•°ï¼Œåˆå§‹å€¼ä¸º0</span>
        map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> dirtyToClean<span class="token punctuation">;</span> <span class="token comment">// æ±¡æŸ“ç‚¹åˆ°æœªæ±¡æŸ“åŒºé—´çš„map</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> dirty<span class="token operator">:</span> initial<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// éå†æ±¡æŸ“ç‚¹</span>
            set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> toClean<span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> clean <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> clean <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> clean <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// è®°å½•è¯¥æ±¡æŸ“ç‚¹å¯ä»¥åˆ°è¾¾çš„æœªæ±¡æŸ“åŒºé—´</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>cleanNode<span class="token punctuation">[</span>clean<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> graph<span class="token punctuation">[</span>dirty<span class="token punctuation">]</span><span class="token punctuation">[</span>clean<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    toClean<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>clean<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            dirtyToClean<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>dirty<span class="token punctuation">,</span> toClean<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†æ±¡æŸ“ç‚¹å’Œå¯¹åº”çš„å¯åˆ°è¾¾åŒºé—´å‹å…¥map</span>

            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> clean <span class="token operator">:</span>toClean<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// ç»Ÿè®¡å¯åˆ°è¾¾çš„ä¸ªæ•°</span>
                count<span class="token punctuation">[</span>clean<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// ç¬¬ä¸‰æ­¥ï¼Œæ‰¾åˆ°åªèƒ½è¢«ä¸€ä¸ªæ±¡æŸ“ç‚¹åˆ°è¾¾çš„æœªæ±¡æŸ“åŒºé—´ï¼Œè¯¥æ±¡æŸ“ç‚¹åˆ é™¤åï¼Œæ•´ä¸ªåŒºé—´éƒ½èƒ½å¤Ÿä¸è¢«æ±¡æŸ“</span>
        <span class="token keyword">int</span> tempSize <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>  res <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> iter <span class="token operator">:</span> dirtyToClean<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// éå†æ‰€æœ‰æ±¡æŸ“ç‚¹å’Œå¯åˆ°è¾¾çš„æœªæ±¡æŸ“åŒºé—´</span>
            set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> toClean <span class="token operator">=</span> iter<span class="token punctuation">.</span>second<span class="token punctuation">;</span>
            <span class="token keyword">int</span> tempSize1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> clean<span class="token operator">:</span> toClean<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token punctuation">[</span>clean<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¦‚æœè¯¥åŒºé—´åªæœ‰ä¸€ä¸ªæ±¡æŸ“ç‚¹å¯ä»¥åˆ°è¾¾ï¼Œåˆ™åˆ é™¤æ±¡æŸ“ç‚¹æœ‰æ„ä¹‰</span>
                    tempSize1 <span class="token operator">+=</span> <span class="token function">getSize</span><span class="token punctuation">(</span>clean<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span>tempSize1 <span class="token operator">&gt;</span> tempSize <span class="token operator">||</span> <span class="token punctuation">(</span>tempSize1 <span class="token operator">==</span> tempSize <span class="token operator">&amp;&amp;</span> iter<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åˆ¤æ–­tempsizeå’Œres</span>
                tempSize <span class="token operator">=</span> tempSize1<span class="token punctuation">;</span>
                res <span class="token operator">=</span> iter<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br></div></div><h3 id="_952-æŒ‰å…¬å› æ•°è®¡ç®—æœ€å¤§ç»„ä»¶å¤§å°"><a href="#_952-æŒ‰å…¬å› æ•°è®¡ç®—æœ€å¤§ç»„ä»¶å¤§å°" class="header-anchor">#</a> 952. æŒ‰å…¬å› æ•°è®¡ç®—æœ€å¤§ç»„ä»¶å¤§å° <span id="952"></span></h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ef4743">å›°éš¾</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>ç»™å®šä¸€ä¸ªç”±ä¸åŒæ­£æ•´æ•°çš„ç»„æˆçš„éç©ºæ•°ç»„ <code>nums</code> ï¼Œè€ƒè™‘ä¸‹é¢çš„å›¾ï¼š</p> <ul><li>æœ‰ <code>nums.length</code> ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‰ä» <code>nums[0]</code> åˆ° <code>nums[nums.length - 1]</code> æ ‡è®°ï¼›</li> <li>åªæœ‰å½“ <code>nums[i]</code> å’Œ <code>nums[j]</code> å…±ç”¨ä¸€ä¸ªå¤§äº 1 çš„å…¬å› æ•°æ—¶ï¼Œ<code>nums[i]</code> å’Œ <code>nums[j]</code>ä¹‹é—´æ‰æœ‰ä¸€æ¡è¾¹ã€‚</li></ul> <p>è¿”å› <em>å›¾ä¸­æœ€å¤§è¿é€šç»„ä»¶çš„å¤§å°</em> ã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šnums = [4,6,15,35]
è¾“å‡ºï¼š4
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šnums = [20,50,9,63]
è¾“å‡ºï¼š2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šnums = [2,3,6,7,4,12,21,39]
è¾“å‡ºï¼š8
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>1 &lt;= nums.length &lt;= 2 * 104</code></li> <li><code>1 &lt;= nums[i] &lt;= 105</code></li> <li><code>nums</code> ä¸­æ‰€æœ‰å€¼éƒ½ <strong>ä¸åŒ</strong></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>å¯¹nums[i]ä¸Šé™å®šä¹‰å¹¶æŸ¥é›†ï¼Œå³å¤§å°ä¸º100001</li> <li>é€šè¿‡åŸƒå¼ç­›æ³•ç­›é€‰å‡ºåœ¨nums[i]èŒƒå›´å†…çš„æ‰€æœ‰ç´ æ•°
<ul><li>ç”¨è¿™äº›ç´ æ•°æ¥æ‰¾å‡ºnums[i]èŒƒå›´å†…æ‰€æœ‰çš„åˆæ•°</li> <li>å°†å¯¹åº”ç´ æ•°å’Œæ‰¾åˆ°çš„åˆæ•°è¿›è¡ŒåŒºé—´åˆå¹¶</li> <li>è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥ç´ æ•°æ²¡æœ‰å‡ºç°åœ¨numsä¸­ï¼Œé‚£ä¹ˆè¦å°†size[i]å˜ä¸º0ï¼Œé˜²æ­¢å½±å“æœ€ç»ˆç»“æœä¸ªæ•°</li></ul></li> <li>æœ€åä»numsä¸­æ‰¾åˆ°æ‹¥æœ‰æœ€å¤šå…ƒç´ çš„å­åŒºé—´å¹¶è¿”å›ä¸ªæ•°</li> <li>ä¸èƒ½é‡‡ç”¨çº¿æ€§ç­›æ³•ï¼Œå› ä¸ºå¯¹äºçº¿æ€§ç­›æ³•ï¼Œæ¯ä¸ªæ•°åªè¢«å®ƒçš„æœ€å°è´¨å› å­ç­›æ‰ï¼Œä¸ä¼šå‡ºç°é‡å¤ç­›é™¤çš„æƒ…å†µï¼Œå¯¼è‡´æœ¬æ¥åº”è¯¥åˆå¹¶çš„åŒºé—´æ²¡æœ‰åˆå¹¶ï¼Œå½±å“æœ€ç»ˆç»“æœ</li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">,</span> size<span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> size<span class="token punctuation">[</span><span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span>
        size<span class="token punctuation">[</span>pa<span class="token punctuation">]</span> <span class="token operator">+=</span> size<span class="token punctuation">[</span>pb<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">largestComponentSize</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token number">100001</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–å¹¶æŸ¥é›†</span>

        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">prime</span><span class="token punctuation">(</span><span class="token number">100001</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–ç´ æ•°</span>
        set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> s<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å°†numsæ”¾å…¥sä¸­ï¼Œæ–¹ä¾¿åç»­åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¹¶å–å‡ºæœ€å¤§å€¼</span>
            s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token operator">*</span>s<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å¾—æœ€å¤§å€¼</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> top<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¦‚æœè¯¥ç´ æ•°åœ¨sä¸­ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¦å°†sizeå˜ä¸º0ï¼Œå¦åˆ™ä¼šåœ¨æœ€ç»ˆçš„getSizeä¸­åŠ ä¸Šä¸å­˜åœ¨çš„ç´ æ•°ä¸ªæ•°</span>
                    size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> top<span class="token punctuation">;</span> j <span class="token operator">+=</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// åªå¯¹ç´ æ•°ç­›å€æ•°ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦</span>
                    prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å¦‚æœè¯¥åˆæ•°å­˜åœ¨ï¼Œåˆå¹¶å­åŒºé—´</span>
                        <span class="token function">merge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>   
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token operator">:</span>nums<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// æ‰¾åˆ°æœ€å¤§çš„å­åŒºé—´</span>
            res <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">getSize</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><h3 id="_959-ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ-ğŸŒŸ"><a href="#_959-ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ-ğŸŒŸ" class="header-anchor">#</a> 959. ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ <span id="959"></span> ğŸŒŸ</h3> <p><strong>éš¾åº¦ï¼š</strong><font color="#ffa119">ä¸­ç­‰</font></p> <p><strong>é¢˜ç›®ï¼š</strong></p> <p>åœ¨ç”± <code>1 x 1</code> æ–¹æ ¼ç»„æˆçš„ <code>n x n</code> ç½‘æ ¼ <code>grid</code> ä¸­ï¼Œæ¯ä¸ª <code>1 x 1</code> æ–¹å—ç”± <code>'/'</code>ã€<code>'\'</code> æˆ–ç©ºæ ¼æ„æˆã€‚è¿™äº›å­—ç¬¦ä¼šå°†æ–¹å—åˆ’åˆ†ä¸ºä¸€äº›å…±è¾¹çš„åŒºåŸŸã€‚</p> <p>ç»™å®šç½‘æ ¼ <code>grid</code> è¡¨ç¤ºä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å› <em>åŒºåŸŸçš„æ•°é‡</em> ã€‚</p> <p>è¯·æ³¨æ„ï¼Œåæ–œæ å­—ç¬¦æ˜¯è½¬ä¹‰çš„ï¼Œå› æ­¤ <code>'\'</code> ç”¨ <code>'\\'</code> è¡¨ç¤ºã€‚</p> <p><strong>ç¤ºä¾‹ï¼š</strong></p> <p><img src="https://store.southyang.cn/LeetCode/UnionFind/959(1).png" alt="ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ å›¾æºLeetCode"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgrid = [&quot; /&quot;,&quot;/ &quot;]
è¾“å‡ºï¼š2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://store.southyang.cn/LeetCode/UnionFind/959(2).png" alt="ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ å›¾æºLeetCode"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgrid = [&quot; /&quot;,&quot;  &quot;]
è¾“å‡ºï¼š1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://store.southyang.cn/LeetCode/UnionFind/959(3).png" alt="ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ å›¾æºLeetCode"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>è¾“å…¥ï¼šgrid = [&quot;/\\&quot;,&quot;\\/&quot;]
è¾“å‡ºï¼š5
è§£é‡Šï¼šå›æƒ³ä¸€ä¸‹ï¼Œå› ä¸º \ å­—ç¬¦æ˜¯è½¬ä¹‰çš„ï¼Œæ‰€ä»¥ &quot;/\\&quot; è¡¨ç¤º /\ï¼Œè€Œ &quot;\\/&quot; è¡¨ç¤º \/ã€‚
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>æç¤ºï¼š</strong></p> <ul><li><code>n == grid.length == grid[i].length</code></li> <li><code>1 &lt;= n &lt;= 30</code></li> <li><code>grid[i][j]</code> æ˜¯ <code>'/'</code>ã€<code>'\'</code>ã€æˆ– <code>' '</code></li></ul> <p><strong>è§£é¢˜æ€è·¯ï¼š</strong></p> <ul><li>å°†æ¯ä¸ªå…ƒç´ çœ‹åšä¸€ä¸ªæ­£æ–¹å½¢ï¼Œæ­£æ–¹å½¢å¯ä»¥ç”±å››ä¸ªä¸‰è§’å½¢ç»„æˆï¼›è€Œæ–œæ å¯ä»¥å°†å››ä¸ªä¸‰è§’å½¢åˆ’åˆ†ä¸ºä¸¤ä¸ªå­åŒºé—´</li> <li>ä»è€Œæˆ‘ä»¬æ„å»º 4 * n * n çš„å¹¶æŸ¥é›†ï¼Œå°è¯•å°†æ¯ä¸ªä¸‰è§’å½¢æ‰€åœ¨åŒºé—´è¿›è¡Œåˆå¹¶</li> <li>æ­£æ–¹å½¢å†…éƒ¨åˆå¹¶
<ul><li>å¦‚æœ<code>grid[i][j] = '/'</code>ï¼Œåˆ™åˆå¹¶ä¸‰è§’å½¢ 0 3ã€1 2 ä¸ºä¸¤ä¸ªå­åŒºé—´</li> <li>å¦‚æœ<code>grid[i][j] = '\\'</code>ï¼Œåˆ™åˆå¹¶ä¸‰è§’å½¢ 0 1ã€2 3 ä¸ºä¸¤ä¸ªå­åŒºé—´</li> <li>å¦‚æœ<code>grid[i][j] = ' '</code>ï¼Œåˆ™å››ä¸ªä¸‰è§’å½¢åˆå¹¶ä¸ºä¸€ä¸ªå­åŒºé—´</li></ul></li> <li>æ­£æ–¹å½¢ä¹‹é—´åˆå¹¶
<ul><li>æ¯ä¸ªæ­£æ–¹å½¢éƒ½ä¸å³è¾¹ã€ä¸‹è¾¹çš„æ­£æ–¹å½¢è¿›è¡ŒåŒºé—´åˆå¹¶</li> <li>å’Œå³è¾¹ï¼šåˆå¹¶ 1 3</li> <li>å’Œä¸‹è¾¹ï¼šåˆå¹¶ 2 0</li></ul></li> <li>æœ€ç»ˆåˆ¤æ–­å¹¶æŸ¥é›†ä¸­åŒºé—´æ•°é‡å³å¯</li></ul> <p><strong>ä»£ç ï¼š</strong></p> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> parent<span class="token punctuation">;</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token keyword">int</span> len<span class="token punctuation">)</span><span class="token punctuation">{</span>
        parent<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        count <span class="token operator">=</span> len<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">!=</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> parent<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> pa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> pb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>pa <span class="token operator">==</span> pb<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        parent<span class="token punctuation">[</span>pb<span class="token punctuation">]</span> <span class="token operator">=</span> pa<span class="token punctuation">;</span>
        count <span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> <span class="token function">regionsBySlashes</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token operator">&amp;</span> grid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> length <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initUnion</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> length <span class="token operator">*</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            string<span class="token operator">&amp;</span> temp <span class="token operator">=</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> j <span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">(</span> i <span class="token operator">*</span> length <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¯ä¸ªæ­£æ–¹å½¢å†…ï¼Œåºå·ä¸º0çš„ä¸‰è§’å½¢ä¸‹æ ‡</span>

                <span class="token comment">// æ­£æ–¹å½¢å†…éƒ¨åˆå¹¶</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'/'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'\\'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// æ­£æ–¹å½¢ä¹‹é—´åˆå¹¶</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å‘å³åˆå¹¶,1 å’Œ 3</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> length<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// å‘ä¸‹åˆå¹¶,2 å’Œ 0</span>
                    <span class="token function">merge</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> length <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/14/2022, 10:00:38 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/2e730d/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Bit Manipulation</div></a> <a href="/pages/298fd1/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Sliding Window</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/2e730d/" class="prev">Bit Manipulation</a></span> <span class="next"><a href="/pages/298fd1/">Sliding Window</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> <!----></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.7731fe9a.js" defer></script><script src="/assets/js/2.8135f503.js" defer></script><script src="/assets/js/53.c0a762fd.js" defer></script><script src="/assets/js/3.c554437f.js" defer></script>
  </body>
</html>
