---
title: 第八章 数字视频基础
date: 2022-04-03 21:21:58
permalink: /pages/af185d/
categories: 
  - coursedoc
  - 多媒体
tags: 
  - 
---
# 数字视频基础

## 1. 模拟视频

### 1.1 模拟电视系统的基本概念

- 扫描
  - 扫描是通过信号控制显示屏以得到电视图像的过程
  - 扫描方式:
    - 隔行扫描：黑白电视和彩色电视多用
    - 逐行扫描：计算机显示图像
  - 隔行扫描的总行数一定是奇数
  - 每秒钟扫描多少行为行频，每秒钟多少场为场频，每秒多少帧为帧频
- 电视制式
  - 三种主要的模拟彩色电视制式
    - NTSC
    - PAL
    - SECAM
  - 主要特性 P189

### 1.2 模拟电视信号的类型

- 复合电视信号
  - 指在一路电流(或电压)中融合了亮度和色差信息，并与同步信息、消隐脉冲一起组成的单一信号
  - 一个行周期的PAL电视信号持续64μs
    - 行同步时间：4.7μs
    - 行消隐的后肩部分：5.8μs
    - 图像信号部分：52.2μs
    - 行消隐的前肩部分：1.3μs
    - 行同步+前肩+后肩 = 行消隐
  - 彩色电视信号在行消隐的后肩部分加调制了色差载波周期信号，因此可以显示彩色图像
- 分量电视信号
  - 质量最佳，但所需要的带宽和传输回路更多
  - 适合短距离传输
- S-Video信号
  - 分离电视信号，是一种亮度和色差分别通过一个信号进行传播的电视信号
  - 减少了亮度信号和色差信号的相互干扰
  - 不需要使用梳状滤波器来分离亮度和色差信号，可以提高亮度信号的带宽



## 2. 模拟视频的数字化

### 2.1 基本概念

- 两种将模拟视频信号转换为数字视频数据的方法
  - 先分离亮度、色差分量，再用A/D转换电路进行采样和量化
  - 先用高速A/D转换器对信号进行采样和量化，再在数字域中对各个分量进行分离

- 数字视频的分辨率格式 P193

### 2.2 数字视频的采样格式

- 4:4:4格式
- 4:2:2格式
- 4:2:0格式
- 4:1:1格式
- 采样格式也可以视为一种数据压缩方法，原理是利用人类视觉系统相对亮度而言，对色差不那么敏感



## 3. 计算机系统中的数字视频数据

### 3.1 YUV的取值

- 具体公式和取值对照表见 P195

### 3.2 YUV视频的存储格式

- AYUV格式：4:4:4格式下每像素32位，A字节为透明度，存储顺序为VUYA
- YUY2格式：4:2:2格式下每像素16位。顺序为Y U Y V
- UYVY格式：类似YUY2，颠倒顺序为 U Y V Y
- IMC1格式：4:2:0格式下每像素2字节，将所有的Y样本作为无符号数存在第一个字节数组，然后是VU存放在第二个字节数组
- IMC2格式：4:2:0格式下每像素12位，相对于IMC1，将色度地址空间一分为二
- IMC3格式：相对于IMC1将UV互换平面
- IMC4格式：相对于IMC2将UV互换位置
- YV12格式：V平面的步幅和行数是Y平面的一半
- NV12格式：紧跟着Y平面的是一个无符号字符数组值，里面包含着封装好的UV

### 3.3 颜色空间和色差采样率的变换

- 具体变换方法见 P199
- RGB与YUV之间的转换


## 4. YUV文件的显示

### 4.1 三种帧

- I帧：视频关键帧
- P帧：单向预测帧
- B帧：双向预测帧

### 4.2 代码的关键问题

- u和v的差值问题  P206
- 如何将YUV转换为RGB  P207 （为什么要 - 16 ， 见 P200）

